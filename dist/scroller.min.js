class Scroller{leftCycle(t){if(0-(t[this.btnIndex].offsetWidth+this.virtualLeft)>=this.movingpart.offsetLeft)if(t[this.btnIndex].style.left=this.newBtnPos+this.virtualLeft+"px",this.virtualLeft+=t[this.btnIndex].offsetWidth,0!=this.btnIndex)this.btnIndex--;else{let e=0;for(let i=t.length-1;i>=0;i--)t[i].style.left=e+"px",e+=t[i].offsetWidth;this.virtualLeft=0,this.btnIndex=this.btnCount-1,this.newBtnPos=this.btnTotalWidth,this.movingpart.style.left="0px"}this.movingpart.style.left=this.movingpart.offsetLeft-1+"px"}rightCycle(t){if(this.virtualLeft+t[this.btnIndex].offsetWidth<=this.movingpart.offsetLeft)if(this.newBtnPos-=t[this.btnIndex].offsetWidth,t[this.btnIndex].style.left=this.newBtnPos+"px",this.virtualLeft+=t[this.btnIndex].offsetWidth,this.btnIndex!=this.btnCount-1)this.btnIndex++;else{let e=0;for(let i=t.length-1;i>=0;i--)t[i].style.left=e+"px",e+=t[i].offsetWidth;this.btnIndex=0,this.newBtnPos=0,this.virtualLeft=this.parentDiv.offsetWidth-this.btnTotalWidth,this.movingpart.style.left=this.virtualLeft+"px"}this.movingpart.style.left=this.movingpart.offsetLeft+1+"px"}calculatePositions(t,e,i,s,n){for(let e=t.length-1;e>=i;e--)t[e].parentNode.removeChild(t[e]);let h=0;for(;s<=this.parentDiv.offsetWidth+n;){var o=t[h].cloneNode(!0);this.movingpart.appendChild(o),s+=t[h].offsetWidth,h++}let l=0;for(let e=t.length-1;e>=0;e--)t[e].style.left=l+"px",l+=t[e].offsetWidth;if(this.btnCount=t.length,this.btnTotalWidth=s,"left"==e.direction)this.btnIndex=this.btnCount-1,this.newBtnPos=s,this.virtualLeft=0;else{if("right"!=e.direction)throw new Error("Direction is undefined or incorrect");this.btnIndex=0,this.newBtnPos=0,this.virtualLeft=this.parentDiv.offsetWidth-s,this.movingpart.style.left=this.virtualLeft+"px"}}constructor(t,e){for(this.parentDiv=document.querySelector(t),this.parentDiv.style.overflow="hidden",this.movingpart=document.createElement("div"),this.movingpart.style.position="absolute",o=this.parentDiv.children.length;o>=1;o--)this.parentDiv.children[o-1].style.position="absolute",this.movingpart.appendChild(this.parentDiv.children[o-1]);this.parentDiv.appendChild(this.movingpart);const i=this.movingpart.children,s=i.length;let n=0,h=0;for(var o=i.length-1;o>=0;o--){let t=i[o].offsetWidth;n+=t,t>h&&(h=t)}this.calculatePositions(i,e,s,n,h),window.addEventListener("resize",function(){this.calculatePositions(i,e,s,n,h)}.bind(this)),this.paused=!1,this.parentDiv.addEventListener("mouseover",()=>{this.paused=!0}),this.parentDiv.addEventListener("mouseout",()=>{this.paused=!1}),"left"==e.direction?setInterval(function(){this.paused||this.leftCycle(i)}.bind(this),e.speed):"right"==e.direction&&setInterval(function(){this.paused||this.rightCycle(i)}.bind(this),e.speed)}}
if(typeof(module)=='object')module.exports=Scroller;
