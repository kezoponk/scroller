class Scroller{leftCycle(t){if(0-(t[this.btnIndex].offsetWidth+this.virtualLeft)>=this.movingpart.offsetLeft)if(t[this.btnIndex].style.left=this.newBtnPos+this.virtualLeft+"px",this.virtualLeft+=t[this.btnIndex].offsetWidth,0!=this.btnIndex)this.btnIndex--;else{let i=0;for(let e=t.length-1;e>=0;e--)t[e].style.left=i+"px",i+=t[e].offsetWidth;this.virtualLeft=0,this.btnIndex=this.btnCount-1,this.newBtnPos=this.btnTotalWidth,this.movingpart.style.left="0px"}this.movingpart.style.left=this.movingpart.offsetLeft-1+"px"}rightCycle(t){if(this.virtualLeft+t[this.btnIndex].offsetWidth<=this.movingpart.offsetLeft)if(this.newBtnPos-=t[this.btnIndex].offsetWidth,t[this.btnIndex].style.left=this.newBtnPos+"px",this.virtualLeft+=t[this.btnIndex].offsetWidth,this.btnIndex!=this.btnCount-1)this.btnIndex++;else{let i=0;for(let e=t.length-1;e>=0;e--)t[e].style.left=i+"px",i+=t[e].offsetWidth;this.btnIndex=0,this.newBtnPos=0,this.virtualLeft=this.parentDiv.offsetWidth-this.btnTotalWidth,this.movingpart.style.left=this.virtualLeft+"px"}this.movingpart.style.left=this.movingpart.offsetLeft+1+"px"}calculatePositions(t,i,e,s,n){for(let i=t.length-1;i>=e;i--)t[i].parentNode.removeChild(t[i]);let h=0;for(;s<=this.parentDiv.offsetWidth+n;){var o=t[h].cloneNode(!0);this.movingpart.appendChild(o),s+=t[h].offsetWidth,h++}let r=0;for(let i=t.length-1;i>=0;i--)t[i].style.left=r+"px",r+=t[i].offsetWidth;if(this.btnCount=t.length,this.btnTotalWidth=s,"left"==i.direction)this.btnIndex=this.btnCount-1,this.newBtnPos=s,this.virtualLeft=0;else{if("right"!=i.direction)throw new Error("Direction is undefined or incorrect");this.btnIndex=0,this.newBtnPos=0,this.virtualLeft=this.parentDiv.offsetWidth-s,this.movingpart.style.left=this.virtualLeft+"px"}}constructor(t,i){for(this.parentDiv=document.querySelector(t),this.parentDiv.style.overflow="hidden",this.movingpart=document.createElement("div"),this.movingpart.style.position="absolute",o=this.parentDiv.children.length;o>=1;o--)this.parentDiv.children[o-1].style.position="absolute",this.movingpart.appendChild(this.parentDiv.children[o-1]);this.parentDiv.appendChild(this.movingpart);var e=this.movingpart.children;const s=e.length;let n=0,h=0;for(var o=e.length-1;o>=0;o--){let t=e[o].offsetWidth;n+=t,t>h&&(h=t)}this.calculatePositions(e,i,s,n,h),window.addEventListener("resize",function(){this.calculatePositions(e,i,s,n,h)}.bind(this)),this.paused=!1,this.parentDiv.addEventListener("mouseover",()=>{this.paused=!0}),this.parentDiv.addEventListener("mouseout",()=>{this.paused=!1}),"left"==i.direction?setInterval(function(){this.paused||this.leftCycle(e)}.bind(this),i.speed):"right"==i.direction&&setInterval(function(){this.paused||this.rightCycle(e)}.bind(this),i.speed)}}class RelativeScroller{leftCycle(t){if(0-t[0].offsetWidth>=this.movingpart.offsetLeft){const i=t[0].cloneNode(!0);this.movingpart.appendChild(i),this.movingpart.removeChild(t[0]),this.movingpart.style.left="0px"}this.movingpart.style.left=this.movingpart.offsetLeft-1+"px"}rightCycle(t){if(this.movingpart.offsetLeft>0){const i=t[this.lastBtn].cloneNode(!0);this.movingpart.removeChild(t[this.lastBtn]),this.movingpart.prepend(i),this.movingpart.style.left=0-t[0].offsetWidth+"px"}this.movingpart.style.left=this.movingpart.offsetLeft+1+"px"}calculatePositions(t,i,e,s,n){for(let i=t.length-1;i>=e;i--)t[i].parentNode.removeChild(t[i]);let h=1;for(;s<=this.parentDiv.offsetWidth+n;){var o=t[h].cloneNode(!0);this.movingpart.appendChild(o),s+=t[h].offsetWidth,h++}if(this.lastBtn=t.length-1,this.originalLeft=0-t[0].offsetWidth,this.btnTotalWidth=s,this.movingpart.style.width=s+10+"px","left"==i.direction)this.movingpart.style.left="0px";else{if("right"!=i.direction)throw new Error("Direction is undefined or incorrect");this.movingpart.style.left=this.originalLeft+"px"}}constructor(t,i){for(this.parentDiv=document.querySelector(t),this.parentDiv.style.overflow="hidden",this.movingpart=document.createElement("div"),this.movingpart.style.position="relative",o=this.parentDiv.children.length;o>=1;o--)this.parentDiv.children[o-1].style.position="relative",this.movingpart.appendChild(this.parentDiv.children[o-1]);this.parentDiv.appendChild(this.movingpart);var e=this.movingpart.children;const s=e.length;let n=0,h=0;for(var o=e.length-1;o>=0;o--){let t=e[o].offsetWidth;n+=t,t>h&&(h=t)}this.calculatePositions(e,i,s,n,h),window.addEventListener("resize",function(){this.calculatePositions(e,i,s,n,h)}.bind(this)),this.paused=!1,this.parentDiv.addEventListener("mouseover",()=>{this.paused=!0}),this.parentDiv.addEventListener("mouseout",()=>{this.paused=!1}),"left"==i.direction?setInterval(function(){this.paused||this.leftCycle(e)}.bind(this),i.speed):"right"==i.direction&&setInterval(function(){this.paused||this.rightCycle(e)}.bind(this),i.speed)}}
if (typeof (module) == 'object') module.exports = {Scroller, RelativeScroller};